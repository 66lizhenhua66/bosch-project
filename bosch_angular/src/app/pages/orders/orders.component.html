<nb-card>
  <nb-card-header>
    <div class="title-div">
      Order List
    </div>
  </nb-card-header>
  <nb-card-body>
    <div class="select-div">
      <!-- <label>当前工位:&nbsp;&nbsp;</label>
      <select [(ngModel)]="selected_program" class="form-control prescri-select"
      (change)="change_selected_p()"> -->
        <!-- <option *ngFor="let item_p of programs" [ngValue]="item_p">{{ item_p.station }}</option> -->
      <!-- </select> -->
      <div>
        <label>当前程序号&nbsp;:&nbsp;&nbsp;</label>
        <select [(ngModel)]="selected_number" class="form-control prescri-select" 
        (change)="change_selected_p()">
          <option *ngFor="let item of program_numbers" [value]="item">{{ item }}</option>
        </select>
        <label >订单号&nbsp;:&nbsp;&nbsp;</label>
        <input type="text" class="form-control order-input" placeholder="填入订单号" [(ngModel)]="order_number">
        <label >首SN&nbsp;:&nbsp;&nbsp;</label>
        <input type="text" class="form-control" placeholder="填入首个序列号" [(ngModel)]="sn_number">
        <label>数量&nbsp;:&nbsp;&nbsp;</label>
        <input type="text" class="form-control number-input" placeholder="填入数量" [(ngModel)]="count">
        
      </div>
      <div class="button-div">
        <button (click)="add_sn()" >生成</button>
        <button (click)="publish_orders()">发布</button>
        <button (click)="delete_unpublish()">清空</button>
      </div>
    </div>  

    <div class="edit-div">
      <table class="edit-table">
        <thead>
          <tr>
            <th>序列号</th>
            <th>程序号</th>
            <th>订单号</th>
            <th>操作</th>
          </tr>
          
        </thead>
        <tr *ngFor="let item of selected_orders; let i=index">
          <td>{{ item.sn_number }}</td>
          <td>{{ item.program_number }}</td>
          <td>{{ item.order_number }}</td>
          <td>
            <button *ngIf="!item.is_publish" (click)="delete_sn(i)" >删除</button>
          </td>
        </tr>
        <tr *ngIf="selected_orders.length === 0">
          <td colspan="4">当前程序没有数据！</td>
        </tr>
      </table>
      <!-- <div *ngFor="let item of order.sn_numbers; let i=index" class="input-div">
        <input type="text" class="form-control normal-input" [value]="item" >
        <input type="text" class="form-control normal-input" [value]="order.program_name"  disabled>
        <button (click)="delete_sn(i)">删除</button>
      </div> -->
    
    </div>

  <toaster-container [toasterconfig]="config"></toaster-container>

  </nb-card-body>
</nb-card>

<!-- [{ST10: [{name: chengxuhao, crafts: craft[]}, ]}, ...] -->